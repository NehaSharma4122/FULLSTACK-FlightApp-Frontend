<nav class="navbar">
  <div class="container nav-content">
    <div class="namelogo">
      <img src="https://t3.ftcdn.net/jpg/02/15/51/76/240_F_215517687_MLMCHbyaOb5z8OBffOUw6ASwXDTfjV5v.jpg" alt="">
      <div class="logo" routerLink="/">AIR WORLD</div>
    </div>
    <div class="nav-links">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Home</a>
      <a routerLink="/search" routerLinkActive="active">Search Flights</a>

      @if (!auth.currentUser()) {
        <a routerLink="/login" routerLinkActive="active">Login</a>
        <a routerLink="/register" class="btn-gold" routerLinkActive="active">Register</a>
      } 
      @else {
        <div class="user-menu">
          <button class="user-btn">
            {{ auth.currentUser()?.username || 'Account' }} â¯†
          </button>

          <div class="dropdown-menu">
            @let role =
              auth.currentUser()?.role ??
              auth.currentUser()?.roles?.[0] ??
              '';
            @if (role.includes('ROLE_ADMIN')) {
              <a routerLink="/admin" routerLinkActive="active">Admin Dashboard</a>
            }
            @else {
              <a routerLink="/dashboard" routerLinkActive="active">User Dashboard</a>
            }
            <a routerLink="/reset-password" routerLinkActive="active">Change Password</a>
            <button (click)="auth.logout()" class="logout-btn">Logout</button>
          </div>
        </div>
        }
    </div>
  </div>
</nav>